C51 COMPILER V6.20c  MAIN                                                                  04/22/2014 11:19:25 PAGE 1   


C51 COMPILER V6.20c, COMPILATION OF MODULE MAIN
OBJECT MODULE PLACED IN main.OBJ
COMPILER INVOKED BY: C:\Program Files (x86)\Keil\C51\BIN\C51.EXE main.c DEBUG OBJECTEXTEND CODE LISTINCLUDE SYMBOLS

stmt level    source

   1          /***********
   2          \project    MPOR - AT89 kit
   3          \author 	xdavid10
   4          \filename	.h
   5          \contacts	Bc. Daniel DAVIDEK	<danieldavidek@gmail.com>
   6          \date		17-04-2014
   7          \brief      Drivers and demos on kit with AT89
   8              MCU: AT89C51ED2
   9              fMCU: 11.059MHz
  10          \license    LGPL License Terms \ref lgpl_license
  11          ***********/
  12          /* DOCSTYLE: gr4viton_2014_A <goo.gl/1deDBa> */
  13          
  14          
  15          //%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
  16          // INCLUDES
  17          //_________> project includes
  18          //#include "XX.h"
  19          
  20          
  21          //%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
  22          // TYPE DEFINITIONS
  23          //____________________________________________________
  24          // enumerations
  25          //____________________________________________________
  26          // structs
  27          //____________________________________________________
  28          // unions
  29          //%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
  30          // VARIABLE DEFINITIONS
  31          //____________________________________________________
  32          // static variables
  33          //____________________________________________________
  34          // other variables
  35          //%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
  36          // EXTERNAL VARIABLE DECLARATIONS
  37          //%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
  38          // STATIC FUNCTION DECLARATIONS
  39          //%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
  40          // STATIC FUNCTION DEFINITIONS - doxygen description should be in HEADERFILE
  41          //%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
  42          // INLINE FUNCTION DEFINITIONS - doxygen description should be in HEADERFILE
  43          //%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
  44          // OTHER FUNCTION DEFINITIONS - doxygen description should be in HEADERFILE
  45              //____________________________________________________
  46              // ..
  47          //%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
  48          // EXTERNAL REFERENCES
  49          
  50          
  51          // Daniel Davidek
  52          // MPOR
  53          // 2014_02_20
  54          // t2L1
  55          // MCU: AT89C51ED2
C51 COMPILER V6.20c  MAIN                                                                  04/22/2014 11:19:25 PAGE 2   

  56          // fMCU: 11.059MHz
  57          
  58          #include "main.h"
   1      =1  /***********
   2      =1  \project    MPOR - AT89 kit
   3      =1  \author 	xdavid10
   4      =1  \filename	.h
   5      =1  \contacts	Bc. Daniel DAVIDEK	<danieldavidek@gmail.com>
   6      =1  \date		17-04-2014
   7      =1  \brief      Drivers and demos on kit with AT89
   8      =1      MCU: AT89C51ED2
   9      =1      fMCU: 11.059MHz
  10      =1  \license    LGPL License Terms \ref lgpl_license
  11      =1  ***********/
  12      =1  /* DOCSTYLE: gr4viton_2014_A <goo.gl/1deDBa> */
  13      =1  
  14      =1  #ifndef _MAIN_H_
  15      =1  #define _MAIN_H_
  16      =1  
  17      =1  //%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
  18      =1  // INCLUDES
  19      =1  //_________> system includes
  20      =1  //_________> project includes
  21      =1  //_________> local includes
  22      =1  //_________> forward includes
  23      =1  
  24      =1  #include <intrins.h>
   1      =2  /*--------------------------------------------------------------------------
   2      =2  INTRINS.H
   3      =2  
   4      =2  Intrinsic functions for C51.
   5      =2  Copyright (c) 1988-2001 Keil Elektronik GmbH and Keil Software, Inc.
   6      =2  All rights reserved.
   7      =2  --------------------------------------------------------------------------*/
   8      =2  
   9      =2  extern void          _nop_     (void);
  10      =2  extern bit           _testbit_ (bit);
  11      =2  extern unsigned char _cror_    (unsigned char, unsigned char);
  12      =2  extern unsigned int  _iror_    (unsigned int,  unsigned char);
  13      =2  extern unsigned long _lror_    (unsigned long, unsigned char);
  14      =2  extern unsigned char _crol_    (unsigned char, unsigned char);
  15      =2  extern unsigned int  _irol_    (unsigned int,  unsigned char);
  16      =2  extern unsigned long _lrol_    (unsigned long, unsigned char);
  17      =2  extern unsigned char _chkfloat_(float);
  25      =1  #include <stdio.h>
   1      =2  /*--------------------------------------------------------------------------
   2      =2  STDIO.H
   3      =2  
   4      =2  Prototypes for standard I/O functions.
   5      =2  Copyright (c) 1988-2001 Keil Elektronik GmbH and Keil Software, Inc.
   6      =2  All rights reserved.
   7      =2  --------------------------------------------------------------------------*/
   8      =2  
   9      =2  #ifndef EOF
  10      =2   #define EOF -1
  11      =2  #endif
  12      =2  
  13      =2  #ifndef NULL
  14      =2   #define NULL ((void *) 0)
  15      =2  #endif
  16      =2  
  17      =2  #ifndef _SIZE_T
C51 COMPILER V6.20c  MAIN                                                                  04/22/2014 11:19:25 PAGE 3   

  18      =2   #define _SIZE_T
  19      =2   typedef unsigned int size_t;
  20      =2  #endif
  21      =2  
  22      =2  #pragma SAVE
  23      =2  #pragma REGPARMS
  24      =2  extern char _getkey (void);
  25      =2  extern char getchar (void);
  26      =2  extern char ungetchar (char);
  27      =2  extern char putchar (char);
  28      =2  extern int printf   (const char *, ...);
  29      =2  extern int sprintf  (char *, const char *, ...);
  30      =2  extern int vprintf  (const char *, char *);
  31      =2  extern int vsprintf (char *, const char *, char *);
  32      =2  extern char *gets (char *, int n);
  33      =2  extern int scanf (const char *, ...);
  34      =2  extern int sscanf (char *, const char *, ...);
  35      =2  extern int puts (const char *);
  36      =2  
  37      =2  #pragma RESTORE
  26      =1  //#include <89c51rd2.H>
  27      =1  
  28      =1  #include "defines.h"
   1      =2  /***********
   2      =2  \project    MPOR - AT89 kit
   3      =2  \author 	xdavid10
   4      =2  \filename	.h
   5      =2  \contacts	Bc. Daniel DAVIDEK	<danieldavidek@gmail.com>
   6      =2  \date		17-04-2014
   7      =2  \brief      Drivers and demos on kit with AT89
   8      =2      MCU: AT89C51ED2
   9      =2      fMCU: 11.059MHz
  10      =2  \license    LGPL License Terms \ref lgpl_license
  11      =2  ***********/
  12      =2  /* DOCSTYLE: gr4viton_2014_A <goo.gl/1deDBa> */
  13      =2  
  14      =2  #ifndef _DEFINES_H_
  15      =2  #define _DEFINES_H_
  16      =2  
  17      =2  //%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
  18      =2  // INCLUDES
  19      =2  //_________> system includes
  20      =2  //_________> project includes
  21      =2  //_________> local includes
  22      =2  //_________> forward includes
  23      =2  
  24      =2  #include <intrins.h>
   1      =3  /*--------------------------------------------------------------------------
   2      =3  INTRINS.H
   3      =3  
   4      =3  Intrinsic functions for C51.
   5      =3  Copyright (c) 1988-2001 Keil Elektronik GmbH and Keil Software, Inc.
   6      =3  All rights reserved.
   7      =3  --------------------------------------------------------------------------*/
   8      =3  
   9      =3  extern void          _nop_     (void);
  10      =3  extern bit           _testbit_ (bit);
  11      =3  extern unsigned char _cror_    (unsigned char, unsigned char);
  12      =3  extern unsigned int  _iror_    (unsigned int,  unsigned char);
  13      =3  extern unsigned long _lror_    (unsigned long, unsigned char);
  14      =3  extern unsigned char _crol_    (unsigned char, unsigned char);
  15      =3  extern unsigned int  _irol_    (unsigned int,  unsigned char);
C51 COMPILER V6.20c  MAIN                                                                  04/22/2014 11:19:25 PAGE 4   

  16      =3  extern unsigned long _lrol_    (unsigned long, unsigned char);
  17      =3  extern unsigned char _chkfloat_(float);
  25      =2  #include <stdio.h>
   1      =3  /*--------------------------------------------------------------------------
   2      =3  STDIO.H
   3      =3  
   4      =3  Prototypes for standard I/O functions.
   5      =3  Copyright (c) 1988-2001 Keil Elektronik GmbH and Keil Software, Inc.
   6      =3  All rights reserved.
   7      =3  --------------------------------------------------------------------------*/
   8      =3  
   9      =3  #ifndef EOF
           =3  #define EOF -1
           =3 #endif
  12      =3  
  13      =3  #ifndef NULL
           =3  #define NULL ((void *) 0)
           =3 #endif
  16      =3  
  17      =3  #ifndef _SIZE_T
           =3  #define _SIZE_T
           =3  typedef unsigned int size_t;
           =3 #endif
  21      =3  
  22      =3  #pragma SAVE
  23      =3  #pragma REGPARMS
  24      =3  extern char _getkey (void);
  25      =3  extern char getchar (void);
  26      =3  extern char ungetchar (char);
  27      =3  extern char putchar (char);
  28      =3  extern int printf   (const char *, ...);
  29      =3  extern int sprintf  (char *, const char *, ...);
  30      =3  extern int vprintf  (const char *, char *);
  31      =3  extern int vsprintf (char *, const char *, char *);
  32      =3  extern char *gets (char *, int n);
  33      =3  extern int scanf (const char *, ...);
  34      =3  extern int sscanf (char *, const char *, ...);
  35      =3  extern int puts (const char *);
  36      =3  
  37      =3  #pragma RESTORE
  26      =2  #include <89c51rd2.H>
   1      =3  /*-------------------------------------------------------------------------
   2      =3  R89c51rd2.H
   3      =3  
   4      =3  Header file for AtmelWM T89C51RD2
   5      =3    
   6      =3  Copyright (c) 1988-1999 Keil Elektronik GmbH and Keil Software, Inc.
   7      =3  All rights reserved.
   8      =3  -------------------------------------------------------------------------*/
   9      =3  sfr  P0      =   0x80;			 
  10      =3  
  11      =3  sbit  P0_7    =   P0^7;
  12      =3  sbit  P0_6    =   P0^6;
  13      =3  sbit  P0_5    =   P0^5;
  14      =3  sbit  P0_4    =   P0^4;
  15      =3  sbit  P0_3    =   P0^3;
  16      =3  sbit  P0_2    =   P0^2;
  17      =3  sbit  P0_1    =   P0^1;
  18      =3  sbit  P0_0    =   P0^0;
  19      =3  
  20      =3  sfr  SP      =   0x81;
  21      =3  sfr  DPL     =   0x82;
C51 COMPILER V6.20c  MAIN                                                                  04/22/2014 11:19:25 PAGE 5   

  22      =3  sfr  DPH     =   0x83;
  23      =3  
  24      =3  sfr  PCON    =   0x87;			 
  25      =3  
  26      =3  sfr  TCON    =   0x88;             
  27      =3  
  28      =3  sbit  TF1    =   TCON^7;
  29      =3  sbit  TR1    =   TCON^6;
  30      =3  sbit  TF0    =   TCON^5;
  31      =3  sbit  TR0    =   TCON^4;
  32      =3  sbit  IE1_   =   TCON^3;
  33      =3  sbit  IT1    =   TCON^2;
  34      =3  sbit  IE0_   =   TCON^1;
  35      =3  sbit  IT0    =   TCON^0;
  36      =3  
  37      =3  sfr  TMOD    =   0x89;			 
  38      =3  
  39      =3  sfr  TL0     =   0x8A;			 
  40      =3  
  41      =3  sfr  TL1     =   0x8B;			 
  42      =3  
  43      =3  sfr  TH0     =   0x8C;			 
  44      =3  
  45      =3  sfr  TH1     =   0x8D;			 
  46      =3  
  47      =3  sfr  CKCON      =   0x8F;			 
  48      =3  
  49      =3  
  50      =3  sfr  P1      =   0x90;			 
  51      =3  
  52      =3  sbit  P1_7    =   P1^7;
  53      =3  sbit  P1_6    =   P1^6;
  54      =3  sbit  P1_5    =   P1^5;
  55      =3  sbit  P1_4    =   P1^4;
  56      =3  sbit  P1_3    =   P1^3;
  57      =3  sbit  P1_2    =   P1^2;
  58      =3  sbit  P1_1    =   P1^1;
  59      =3  sbit  P1_0    =   P1^0;
  60      =3  
  61      =3  sbit  CEX4    =   P1^7;
  62      =3  sbit  CEX3    =   P1^6;
  63      =3  sbit  CEX2    =   P1^5;
  64      =3  sbit  CEX1    =   P1^4;
  65      =3  sbit  CEX0    =   P1^3;
  66      =3  sbit  ECI     =   P1^2;
  67      =3  sbit  T2EX    =   P1^1;
  68      =3  sbit  T2      =   P1^0;
  69      =3  
  70      =3  sfr  SCON    =   0x98;			 
  71      =3  
  72      =3  sfr  SCON_1    =   0xC0;			 
  73      =3  
  74      =3  sbit  SM0    =   SCON^7;
  75      =3  sbit  FE     =   SCON^7;
  76      =3  sbit  SM1    =   SCON^6;
  77      =3  sbit  SM2    =   SCON^5;
  78      =3  sbit  REN    =   SCON^4;
  79      =3  sbit  TB8    =   SCON^3;
  80      =3  sbit  RB8    =   SCON^2;
  81      =3  sbit  TI     =   SCON^1;
  82      =3  sbit  RI     =   SCON^0;
  83      =3  
C51 COMPILER V6.20c  MAIN                                                                  04/22/2014 11:19:25 PAGE 6   

  84      =3  sfr  SBUF    =   0x99;			 
  85      =3  
  86      =3  sfr  SBUF_1  =   0xC1;             
  87      =3  
  88      =3  sfr  BRL  =     0x9A;                
  89      =3  
  90      =3  sfr  P2      =   0xA0;			 
  91      =3  
  92      =3  sbit  P2_7    =   P2^7;
  93      =3  sbit  P2_6    =   P2^6;
  94      =3  sbit  P2_5    =   P2^5;
  95      =3  sbit  P2_4    =   P2^4;
  96      =3  sbit  P2_3    =   P2^3;
  97      =3  sbit  P2_2    =   P2^2;
  98      =3  sbit  P2_1    =   P2^1;
  99      =3  sbit  P2_0    =   P2^0;
 100      =3  
 101      =3  sfr  WDTRST  =   0xA6;			 
 102      =3  sfr  WDTPRG  =   0xA7;			 
 103      =3  
 104      =3  sfr  AUXR1  =   0xA2;              
 105      =3  
 106      =3  sfr  IE     =   0xA8;			     
 107      =3  sfr  IE0    =   0xA8;
 108      =3  
 109      =3  sbit  EA     =   IE^7;
 110      =3  sbit  EC     =   IE^6;
 111      =3  sbit  ET2    =   IE^5;
 112      =3  sbit  ES     =   IE^4;
 113      =3  sbit  ET1    =   IE^3;
 114      =3  sbit  EX1    =   IE^2;
 115      =3  sbit  ET0    =   IE^1;
 116      =3  sbit  EX0    =   IE^0;
 117      =3  
 118      =3  sfr  SADDR   =   0xA9;			 
 119      =3  
 120      =3  
 121      =3  sfr  SADDR_1   =   0xAA;			 
 122      =3  
 123      =3  sfr  P3      =   0xB0;			 
 124      =3  
 125      =3  sbit  P3_7    =   P3^7;
 126      =3  sbit  P3_6    =   P3^6;
 127      =3  sbit  P3_5    =   P3^5;
 128      =3  sbit  P3_4    =   P3^4;
 129      =3  sbit  P3_3    =   P3^3;
 130      =3  sbit  P3_2    =   P3^2;
 131      =3  sbit  P3_1    =   P3^1;
 132      =3  sbit  P3_0    =   P3^0;
 133      =3  
 134      =3  sbit  RD      =   P3^7;
 135      =3  sbit  WR      =   P3^6;
 136      =3  sbit  T1      =   P3^5;
 137      =3  sbit  T0      =   P3^4;
 138      =3  sbit  INT1    =   P3^3;
 139      =3  sbit  INT0    =   P3^2;
 140      =3  sbit  TXD     =   P3^1;
 141      =3  sbit  RXD     =   P3^0;
 142      =3  
 143      =3  
 144      =3  sfr  AUXR    =   0x8E; 			 
 145      =3  
C51 COMPILER V6.20c  MAIN                                                                  04/22/2014 11:19:25 PAGE 7   

 146      =3  sfr  SADEN   =   0xB9;			 
 147      =3  
 148      =3  sfr  SADEN_1 =   0xBA;			  
 149      =3  
 150      =3  sfr  IPH     =   0xB7;			     
 151      =3  sfr  IPH0    =   0xB7;
 152      =3  
 153      =3  sfr  IPL     =   0xB8;			     
 154      =3  sfr  IPL0    =   0xB8;	
 155      =3  
 156      =3  sbit PPC  = IPL^6;
 157      =3  sbit PT2  = IPL^5;
 158      =3  sbit PS   = IPL^4;
 159      =3  sbit PT1  = IPL^3;
 160      =3  sbit PX1  = IPL^2;
 161      =3  sbit PT0  = IPL^1;
 162      =3  sbit PX0  = IPL^0;
 163      =3  
 164      =3  sfr  T2CON   =   0xC8;             
 165      =3  
 166      =3  sbit  TF2    =   T2CON^7;
 167      =3  sbit  EXF2   =   T2CON^6;
 168      =3  sbit  RCLK   =   T2CON^5;
 169      =3  sbit  TCLK   =   T2CON^4;
 170      =3  sbit  EXEN2  =   T2CON^3;
 171      =3  sbit  TR2    =   T2CON^2;
 172      =3  sbit  CT2    =   T2CON^1;
 173      =3  sbit  CPRL2  =   T2CON^0;
 174      =3  
 175      =3  sfr  T2MOD   =   0xC9;			 
 176      =3  
 177      =3  sfr  RCAP2L  =   0xCA;			 
 178      =3  sfr  RCAP2H  =   0xCB;			 
 179      =3  sfr  TL2     =   0xCC;			 
 180      =3  sfr  TH2     =   0xCD;			 
 181      =3  
 182      =3  sfr  BDRCON  =   0x9B;			 
 183      =3  
 184      =3  sfr  BDRCON_1  =   0x9C;			 
 185      =3  
 186      =3  
 187      =3  sfr  PSW     =   0xD0;			 
 188      =3  sbit  CY     =   PSW^7;
 189      =3  sbit  AC     =   PSW^6;
 190      =3  sbit  F0     =   PSW^5;
 191      =3  sbit  RS1    =   PSW^4;
 192      =3  sbit  RS0    =   PSW^3;
 193      =3  sbit  OV     =   PSW^2;
 194      =3  sbit  UD     =   PSW^1;
 195      =3  sbit  P      =   PSW^0;
 196      =3  
 197      =3  sfr  CCON    =   0xD8;			 
 198      =3  
 199      =3  sbit  CF      =   CCON^7;
 200      =3  sbit  CR      =   CCON^6;
 201      =3  sbit  CCF4    =   CCON^4;
 202      =3  sbit  CCF3    =   CCON^3;
 203      =3  sbit  CCF2    =   CCON^2;
 204      =3  sbit  CCF1    =   CCON^1;
 205      =3  sbit  CCF0    =   CCON^0;
 206      =3  
 207      =3  sfr  CMOD    =   0xD9;			 
C51 COMPILER V6.20c  MAIN                                                                  04/22/2014 11:19:25 PAGE 8   

 208      =3  
 209      =3  sfr  CCAPM0  =   0xDA;			 
 210      =3  sfr  CCAPM1  =   0xDB;			 
 211      =3  sfr  CCAPM2  =   0xDC;			 
 212      =3  sfr  CCAPM3  =   0xDD;			 
 213      =3  sfr  CCAPM4  =   0xDE;			 
 214      =3  
 215      =3  sfr  CL      =   0xE9;			 
 216      =3  
 217      =3  sfr  CCAP0L  =   0xEA;			 
 218      =3  
 219      =3  sfr  CCAP1L  =   0xEB;			 
 220      =3  
 221      =3  sfr  CCAP2L  =   0xEC;			 
 222      =3  
 223      =3  sfr  CCAP3L  =   0xED;			 
 224      =3  
 225      =3  sfr  CCAP4L  =   0xEE;			 
 226      =3  
 227      =3  sfr  ACC     =   0xE0;			 
 228      =3  sfr  B       =   0xF0;			 
 229      =3  
 230      =3  sfr  CH      =   0xF9;			 
 231      =3  
 232      =3  sfr  CCAP0H  =   0xFA;			 
 233      =3  sfr  CCAP1H  =   0xFB;			  
 234      =3  sfr  CCAP2H  =   0xFC;			 
 235      =3  sfr  CCAP3H  =   0xFD;			 
 236      =3  sfr  CCAP4H  =   0xFE;			 
 237      =3  
 238      =3  sfr  ICON  =   0xFF;               
 239      =3  sfr  CKSEL  =   0x85;               
 240      =3  sfr  OSCCON  =   0x86;               
 241      =3  
 242      =3  sfr FCON 	= 0xD1;
 243      =3  sfr EECON	= 0xD2;
 244      =3  sfr EETIM	= 0xD3;
 245      =3  
 246      =3  
 247      =3  
 248      =3  
  27      =2  //#include <sys/types.h>
  28      =2  //#include <atmelWM\89C51RD2.h>
  29      =2  //#include "reg51.h"
  30      =2  
  31      =2  
  32      =2  //%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
  33      =2  // MACRO DEFINITIONS
  34      =2  //____________________________________________________
  35      =2  //constants (user-defined)
  36      =2  //____________________________________________________
  37      =2  //constants (do not change)
  38      =2  #define INT_MAX 0xffff
  39      =2  #define B32_MAX 0x8000
  40      =2  //#define CYCLES_WHILE 0x0df
  41      =2  #define CYCLES_WHILE 0x001
  42      =2  
  43      =2  #define GET_MBYTE(BYTE,BIT) ((BYTE) & 1<<(BIT))
  44      =2  #define GET_BIT(BYTE,BIT) ( !(!( GET_MBYTE(BYTE,BIT) )) )
  45      =2  #define BIT(b) (1LU<<(b))
  46      =2  #define NBIT(b) (~(1LU<<(b)))
  47      =2  #define SET_BIT(BYTE,b) ( (BYTE) | (BIT(b)) )
C51 COMPILER V6.20c  MAIN                                                                  04/22/2014 11:19:25 PAGE 9   

  48      =2  #define CLR_BIT(BYTE,b) ( (BYTE) & (NBIT(b)) )
  49      =2  //#define SET_BIT(BYTE,BIT) (BYTE & LU1<<BIT)
  50      =2  
  51      =2  #define BT1 !(P3&(1<<2)); //p3b3=1<<3-1
  52      =2  #define BT2 !(P1&(1<<4)); //p1b5
  53      =2  #define BT3 !(P3&(1<<3)); //p3b4
  54      =2  
  55      =2  #define BT(num) \
  56      =2  ( switch (num) \
  57      =2    {             \
  58      =2      case 1:  return BT1;  \
  59      =2      case 2:  return BT2;  \
  60      =2      case 3:  return BT3;  \
  61      =2    }              \
  62      =2  )
  63      =2  
  64      =2  // number of bit in byte
  65      =2  // T2MOD
  66      =2  #define T2OE	1
  67      =2  #define DCEN	0
  68      =2  //____________________________________________________
  69      =2  // macro functions (do not use often!)
  70      =2  //%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
  71      =2  // TYPE DEFINITIONS
  72      =2  typedef short int 	int8_t ;
  73      =2  typedef int 		int16_t ;
  74      =2  typedef long int 	int32_t ;
  75      =2  
  76      =2  typedef unsigned short int 	uint8_t ;
  77      =2  typedef unsigned int		uint16_t ;
  78      =2  typedef unsigned long int 	uint32_t ;
  79      =2  
  80      =2  typedef unsigned short int 	FILE ;
  81      =2  
  82      =2  //typedef unsigned int size_t;
  83      =2  typedef signed int ssize_t;
  84      =2  typedef long off_t;
  85      =2  //____________________________________________________
  86      =2  #define __NOT_IMPLEMENTED_YET 	0
  87      =2  #define __NOT_USED_ANYMORE		0
  88      =2  
  89      =2  #define GPIO0	1<<0
  90      =2  #define GPIO1	1<<1
  91      =2  #define GPIO2	1<<2
  92      =2  #define GPIO3	1<<3
  93      =2  #define GPIO4	1<<4
  94      =2  #define GPIO5	1<<5
  95      =2  #define GPIO6	1<<6
  96      =2  #define GPIO7	1<<7
  97      =2  #define GPIO8	1<<8
  98      =2  #define GPIO9	1<<9
  99      =2  #define GPIO10	1<<10
 100      =2  #define GPIO11	1<<11
 101      =2  #define GPIO12	1<<12
 102      =2  #define GPIO13	1<<13
 103      =2  #define GPIO14	1<<14
 104      =2  
 105      =2  
 106      =2  #define UNUSED(var) (void)(var);
 107      =2  //____________________________________________________
 108      =2  // enumerations
 109      =2  //____________________________________________________
C51 COMPILER V6.20c  MAIN                                                                  04/22/2014 11:19:25 PAGE 10  

 110      =2  // structs
 111      =2  //____________________________________________________
 112      =2  // unions
 113      =2  
 114      =2  //%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
 115      =2  // EXTERNAL VARIABLE DECLARATIONS
 116      =2  //%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
 117      =2  // INLINE FUNCTION DEFINITIONS
 118      =2  //%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
 119      =2  // STATIC FUNCTION DEFINITIONS
 120      =2  //%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
 121      =2  // OTHER FUNCTION DECLARATIONS
 122      =2      //____________________________________________________
 123      =2      // ..
 124      =2  //%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
 125      =2  // EXTERNAL REFERENCES
 126      =2  
 127      =2  
 128      =2  
 129      =2  #endif
  29      =1  #include "disp.h"
   1      =2  /**
   2      =2   * @file: helloworld.h
   3      =2   *
   4      =2   * Copyright (c) 2009 MPOR
   5      =2   *
   6      =2   * @brief: This file is a header of the disp.lib library for 4x20 display
   7      =2   *
   8      =2   * @version $Revision: 2.0 $ $Name:  $ 
   9      =2   *
  10      =2   * @date: 2009-12-13
  11      =2   * 
  12      =2   * Compiler: uVision2 V2.20a
  13      =2   */
  14      =2  
  15      =2  /* moves cursor to the new position [x, y]*/
  16      =2  void gotoxy(unsigned char x, unsigned char y);
  17      =2  
  18      =2  /* initializes display */
  19      =2  void disp_init(void);
  20      =2  
  21      =2  /* overriden standard output*/
  22      =2  char putchar(char ch);
  23      =2  
  24      =2  /* clears display content and moves cursor to the original position */
  25      =2  void clrscr(void);
  30      =1  #include "kb.h"
   1      =2  /***********
   2      =2  \project    MPOR - AT89 kit
   3      =2  \author 	xdavid10
   4      =2  \filename	.h
   5      =2  \contacts	Bc. Daniel DAVIDEK	<danieldavidek@gmail.com>
   6      =2  \date		17-04-2014
   7      =2  \brief      Drivers and demos on kit with AT89
   8      =2      MCU: AT89C51ED2
   9      =2      fMCU: 11.059MHz
  10      =2  \license    LGPL License Terms \ref lgpl_license
  11      =2  ***********/
  12      =2  /* DOCSTYLE: gr4viton_2014_A <goo.gl/1deDBa> */
  13      =2  
  14      =2  #ifndef _KB_H_
  15      =2  #define _KB_H_
C51 COMPILER V6.20c  MAIN                                                                  04/22/2014 11:19:25 PAGE 11  

  16      =2  
  17      =2  //%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
  18      =2  // INCLUDES
  19      =2  //_________> system includes
  20      =2  //_________> project includes
  21      =2  //_________> local includes
  22      =2  //_________> forward includes
  23      =2  #include "defines.h"
   1      =3  /***********
   2      =3  \project    MPOR - AT89 kit
   3      =3  \author 	xdavid10
   4      =3  \filename	.h
   5      =3  \contacts	Bc. Daniel DAVIDEK	<danieldavidek@gmail.com>
   6      =3  \date		17-04-2014
   7      =3  \brief      Drivers and demos on kit with AT89
   8      =3      MCU: AT89C51ED2
   9      =3      fMCU: 11.059MHz
  10      =3  \license    LGPL License Terms \ref lgpl_license
  11      =3  ***********/
  12      =3  /* DOCSTYLE: gr4viton_2014_A <goo.gl/1deDBa> */
  13      =3  
  14      =3  #ifndef _DEFINES_H_
           =3 #define _DEFINES_H_
           =3 
           =3 //%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
           =3 // INCLUDES
           =3 //_________> system includes
           =3 //_________> project includes
           =3 //_________> local includes
           =3 //_________> forward includes
           =3 
           =3 #include <intrins.h>
           =3 #include <stdio.h>
           =3 #include <89c51rd2.H>
           =3 //#include <sys/types.h>
           =3 //#include <atmelWM\89C51RD2.h>
           =3 //#include "reg51.h"
           =3 
           =3 
           =3 //%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
           =3 // MACRO DEFINITIONS
           =3 //____________________________________________________
           =3 //constants (user-defined)
           =3 //____________________________________________________
           =3 //constants (do not change)
           =3 #define INT_MAX 0xffff
           =3 #define B32_MAX 0x8000
           =3 //#define CYCLES_WHILE 0x0df
           =3 #define CYCLES_WHILE 0x001
           =3 
           =3 #define GET_MBYTE(BYTE,BIT) ((BYTE) & 1<<(BIT))
           =3 #define GET_BIT(BYTE,BIT) ( !(!( GET_MBYTE(BYTE,BIT) )) )
           =3 #define BIT(b) (1LU<<(b))
           =3 #define NBIT(b) (~(1LU<<(b)))
           =3 #define SET_BIT(BYTE,b) ( (BYTE) | (BIT(b)) )
           =3 #define CLR_BIT(BYTE,b) ( (BYTE) & (NBIT(b)) )
           =3 //#define SET_BIT(BYTE,BIT) (BYTE & LU1<<BIT)
           =3 
           =3 #define BT1 !(P3&(1<<2)); //p3b3=1<<3-1
           =3 #define BT2 !(P1&(1<<4)); //p1b5
           =3 #define BT3 !(P3&(1<<3)); //p3b4
           =3 
C51 COMPILER V6.20c  MAIN                                                                  04/22/2014 11:19:25 PAGE 12  

           =3 #define BT(num) \
           =3 ( switch (num) \
           =3   {             \
           =3     case 1:  return BT1;  \
           =3     case 2:  return BT2;  \
           =3     case 3:  return BT3;  \
           =3   }              \
           =3 )
           =3 
           =3 // number of bit in byte
           =3 // T2MOD
           =3 #define T2OE	1
           =3 #define DCEN	0
           =3 //____________________________________________________
           =3 // macro functions (do not use often!)
           =3 //%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
           =3 // TYPE DEFINITIONS
           =3 typedef short int 	int8_t ;
           =3 typedef int 		int16_t ;
           =3 typedef long int 	int32_t ;
           =3 
           =3 typedef unsigned short int 	uint8_t ;
           =3 typedef unsigned int		uint16_t ;
           =3 typedef unsigned long int 	uint32_t ;
           =3 
           =3 typedef unsigned short int 	FILE ;
           =3 
           =3 //typedef unsigned int size_t;
           =3 typedef signed int ssize_t;
           =3 typedef long off_t;
           =3 //____________________________________________________
           =3 #define __NOT_IMPLEMENTED_YET 	0
           =3 #define __NOT_USED_ANYMORE		0
           =3 
           =3 #define GPIO0	1<<0
           =3 #define GPIO1	1<<1
           =3 #define GPIO2	1<<2
           =3 #define GPIO3	1<<3
           =3 #define GPIO4	1<<4
           =3 #define GPIO5	1<<5
           =3 #define GPIO6	1<<6
           =3 #define GPIO7	1<<7
           =3 #define GPIO8	1<<8
           =3 #define GPIO9	1<<9
           =3 #define GPIO10	1<<10
           =3 #define GPIO11	1<<11
           =3 #define GPIO12	1<<12
           =3 #define GPIO13	1<<13
           =3 #define GPIO14	1<<14
           =3 
           =3 
           =3 #define UNUSED(var) (void)(var);
           =3 //____________________________________________________
           =3 // enumerations
           =3 //____________________________________________________
           =3 // structs
           =3 //____________________________________________________
           =3 // unions
           =3 
           =3 //%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
           =3 // EXTERNAL VARIABLE DECLARATIONS
           =3 //%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
C51 COMPILER V6.20c  MAIN                                                                  04/22/2014 11:19:25 PAGE 13  

           =3 // INLINE FUNCTION DEFINITIONS
           =3 //%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
           =3 // STATIC FUNCTION DEFINITIONS
           =3 //%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
           =3 // OTHER FUNCTION DECLARATIONS
           =3     //____________________________________________________
           =3     // ..
           =3 //%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
           =3 // EXTERNAL REFERENCES
           =3 
           =3 
           =3 
           =3 #endif
  24      =2  #include "waitin.h"
   1      =3  /***********
   2      =3  \project    MPOR - AT89 kit
   3      =3  \author 	xdavid10
   4      =3  \filename	.h
   5      =3  \contacts	Bc. Daniel DAVIDEK	<danieldavidek@gmail.com>
   6      =3  \date		17-04-2014
   7      =3  \brief      Drivers and demos on kit with AT89
   8      =3      MCU: AT89C51ED2
   9      =3      fMCU: 11.059MHz
  10      =3  \license    LGPL License Terms \ref lgpl_license
  11      =3  ***********/
  12      =3  /* DOCSTYLE: gr4viton_2014_A <goo.gl/1deDBa> */
  13      =3  
  14      =3  #ifndef _WAITIN_H_
  15      =3  #define _WAITIN_H_
  16      =3  
  17      =3  //%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
  18      =3  // INCLUDES
  19      =3  //_________> system includes
  20      =3  //_________> project includes
  21      =3  //_________> local includes
  22      =3  //_________> forward includes
  23      =3  
  24      =3  #include "defines.h"
   1      =4  /***********
   2      =4  \project    MPOR - AT89 kit
   3      =4  \author 	xdavid10
   4      =4  \filename	.h
   5      =4  \contacts	Bc. Daniel DAVIDEK	<danieldavidek@gmail.com>
   6      =4  \date		17-04-2014
   7      =4  \brief      Drivers and demos on kit with AT89
   8      =4      MCU: AT89C51ED2
   9      =4      fMCU: 11.059MHz
  10      =4  \license    LGPL License Terms \ref lgpl_license
  11      =4  ***********/
  12      =4  /* DOCSTYLE: gr4viton_2014_A <goo.gl/1deDBa> */
  13      =4  
  14      =4  #ifndef _DEFINES_H_
           =4 #define _DEFINES_H_
           =4 
           =4 //%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
           =4 // INCLUDES
           =4 //_________> system includes
           =4 //_________> project includes
           =4 //_________> local includes
           =4 //_________> forward includes
           =4 
           =4 #include <intrins.h>
C51 COMPILER V6.20c  MAIN                                                                  04/22/2014 11:19:25 PAGE 14  

           =4 #include <stdio.h>
           =4 #include <89c51rd2.H>
           =4 //#include <sys/types.h>
           =4 //#include <atmelWM\89C51RD2.h>
           =4 //#include "reg51.h"
           =4 
           =4 
           =4 //%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
           =4 // MACRO DEFINITIONS
           =4 //____________________________________________________
           =4 //constants (user-defined)
           =4 //____________________________________________________
           =4 //constants (do not change)
           =4 #define INT_MAX 0xffff
           =4 #define B32_MAX 0x8000
           =4 //#define CYCLES_WHILE 0x0df
           =4 #define CYCLES_WHILE 0x001
           =4 
           =4 #define GET_MBYTE(BYTE,BIT) ((BYTE) & 1<<(BIT))
           =4 #define GET_BIT(BYTE,BIT) ( !(!( GET_MBYTE(BYTE,BIT) )) )
           =4 #define BIT(b) (1LU<<(b))
           =4 #define NBIT(b) (~(1LU<<(b)))
           =4 #define SET_BIT(BYTE,b) ( (BYTE) | (BIT(b)) )
           =4 #define CLR_BIT(BYTE,b) ( (BYTE) & (NBIT(b)) )
           =4 //#define SET_BIT(BYTE,BIT) (BYTE & LU1<<BIT)
           =4 
           =4 #define BT1 !(P3&(1<<2)); //p3b3=1<<3-1
           =4 #define BT2 !(P1&(1<<4)); //p1b5
           =4 #define BT3 !(P3&(1<<3)); //p3b4
           =4 
           =4 #define BT(num) \
           =4 ( switch (num) \
           =4   {             \
           =4     case 1:  return BT1;  \
           =4     case 2:  return BT2;  \
           =4     case 3:  return BT3;  \
           =4   }              \
           =4 )
           =4 
           =4 // number of bit in byte
           =4 // T2MOD
           =4 #define T2OE	1
           =4 #define DCEN	0
           =4 //____________________________________________________
           =4 // macro functions (do not use often!)
           =4 //%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
           =4 // TYPE DEFINITIONS
           =4 typedef short int 	int8_t ;
           =4 typedef int 		int16_t ;
           =4 typedef long int 	int32_t ;
           =4 
           =4 typedef unsigned short int 	uint8_t ;
           =4 typedef unsigned int		uint16_t ;
           =4 typedef unsigned long int 	uint32_t ;
           =4 
           =4 typedef unsigned short int 	FILE ;
           =4 
           =4 //typedef unsigned int size_t;
           =4 typedef signed int ssize_t;
           =4 typedef long off_t;
           =4 //____________________________________________________
           =4 #define __NOT_IMPLEMENTED_YET 	0
C51 COMPILER V6.20c  MAIN                                                                  04/22/2014 11:19:25 PAGE 15  

           =4 #define __NOT_USED_ANYMORE		0
           =4 
           =4 #define GPIO0	1<<0
           =4 #define GPIO1	1<<1
           =4 #define GPIO2	1<<2
           =4 #define GPIO3	1<<3
           =4 #define GPIO4	1<<4
           =4 #define GPIO5	1<<5
           =4 #define GPIO6	1<<6
           =4 #define GPIO7	1<<7
           =4 #define GPIO8	1<<8
           =4 #define GPIO9	1<<9
           =4 #define GPIO10	1<<10
           =4 #define GPIO11	1<<11
           =4 #define GPIO12	1<<12
           =4 #define GPIO13	1<<13
           =4 #define GPIO14	1<<14
           =4 
           =4 
           =4 #define UNUSED(var) (void)(var);
           =4 //____________________________________________________
           =4 // enumerations
           =4 //____________________________________________________
           =4 // structs
           =4 //____________________________________________________
           =4 // unions
           =4 
           =4 //%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
           =4 // EXTERNAL VARIABLE DECLARATIONS
           =4 //%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
           =4 // INLINE FUNCTION DEFINITIONS
           =4 //%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
           =4 // STATIC FUNCTION DEFINITIONS
           =4 //%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
           =4 // OTHER FUNCTION DECLARATIONS
           =4     //____________________________________________________
           =4     // ..
           =4 //%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
           =4 // EXTERNAL REFERENCES
           =4 
           =4 
           =4 
           =4 #endif
  25      =3  
  26      =3  //%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
  27      =3  // MACRO DEFINITIONS
  28      =3  //____________________________________________________
  29      =3  //constants (user-defined)
  30      =3  //____________________________________________________
  31      =3  //constants (do not change)
  32      =3  //____________________________________________________
  33      =3  // macro functions (do not use often!)
  34      =3  //%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
  35      =3  // TYPE DEFINITIONS
  36      =3  //____________________________________________________
  37      =3  // enumerations
  38      =3  //____________________________________________________
  39      =3  // structs
  40      =3  //____________________________________________________
  41      =3  // unions
  42      =3  
  43      =3  //%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
C51 COMPILER V6.20c  MAIN                                                                  04/22/2014 11:19:25 PAGE 16  

  44      =3  // EXTERNAL VARIABLE DECLARATIONS
  45      =3  extern volatile uint32_t tic_toc_start;
  46      =3  
  47      =3  //%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
  48      =3  // INLINE FUNCTION DEFINITIONS
  49      =3  //%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
  50      =3  // STATIC FUNCTION DEFINITIONS
  51      =3  //%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
  52      =3  // OTHER FUNCTION DECLARATIONS
  53      =3      //____________________________________________________
  54      =3      // ..
  55      =3  //%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
  56      =3  // EXTERNAL REFERENCES
  57      =3  /****************
  58      =3   \brief
  59      =3   \param
  60      =3   \retval
  61      =3   ****************/
  62      =3  void INIT_clk(void);
  63      =3  
  64      =3  /****************
  65      =3   \brief
  66      =3   \param
  67      =3   \retval
  68      =3   ****************/
  69      =3  void mswait(uint32_t delay);
  70      =3  
  71      =3  /****************
  72      =3   \brief Stores systick stamp to global variable (MATLAB alike)
  73      =3   \retval also returns the stamp
  74      =3   ****************/
  75      =3  uint32_t _tic(void);
  76      =3  
  77      =3  /****************
  78      =3   \brief Count ticks of systick from the last call of _tic
  79      =3   \retval interval between _tic and _toc in systick units
  80      =3   ****************/
  81      =3  uint32_t _toc(void);
  82      =3  
  83      =3  /****************
  84      =3   \brief Count ticks of systick from the start time stamp
  85      =3   \param start time stamp
  86      =3   \retval interval between start time stamp and _tocFrom in systick units
  87      =3   ****************/
  88      =3  uint32_t _tocFrom(uint32_t start);
  89      =3  
  90      =3  
  91      =3  
  92      =3  
  93      =3  
  94      =3  void wwwait(int w);
  95      =3  void mwait(int cycles);
  96      =3  
  97      =3  void twait(uint16_t times);
  98      =3  void swait(int cycles);
  99      =3  
 100      =3  void INIT_T0m1();
 101      =3  void pause(unsigned int doba);
 102      =3  void pause10(unsigned int doba);
 103      =3  
 104      =3  //%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
 105      =3  // EXTERNAL REFERENCES
C51 COMPILER V6.20c  MAIN                                                                  04/22/2014 11:19:25 PAGE 17  

 106      =3  
 107      =3  #endif
  25      =2  
  26      =2  #define nRows 4
  27      =2  #define nCols 4
  28      =2  #define nButtons 4
  29      =2  
  30      =2  //%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
  31      =2  // MACRO DEFINITIONS
  32      =2  //____________________________________________________
  33      =2  //constants (user-defined)
  34      =2  //____________________________________________________
  35      =2  //constants (do not change)
  36      =2  //____________________________________________________
  37      =2  // macro functions (do not use often!)
  38      =2  //%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
  39      =2  // TYPE DEFINITIONS
  40      =2  //____________________________________________________
  41      =2  // enumerations
  42      =2  //____________________________________________________
  43      =2  // structs
  44      =2  //____________________________________________________
  45      =2  // unions
  46      =2  
  47      =2  //%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
  48      =2  // EXTERNAL VARIABLE DECLARATIONS
  49      =2  
  50      =2  extern unsigned char xdata kbCW;
  51      =2  extern unsigned char xdata kbRow;
  52      =2  extern unsigned char xdata kbCol;
  53      =2  
  54      =2  extern uint8_t xdata key[nRows][nCols];
  55      =2  extern uint8_t xdata btn[nButtons];
  56      =2  
  57      =2  extern char xdata keyChar[nRows][nCols];
  58      =2  
  59      =2  extern char xdata btnChar[nButtons];
  60      =2  
  61      =2  //%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
  62      =2  // INLINE FUNCTION DEFINITIONS
  63      =2  //%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
  64      =2  // STATIC FUNCTION DEFINITIONS
  65      =2  //%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
  66      =2  // OTHER FUNCTION DECLARATIONS
  67      =2      //____________________________________________________
  68      =2      // ..
  69      =2  
  70      =2  void KB_scanPressedKeys(void);
  71      =2  void KB_scanPressedBtns(void);
  72      =2  void KB_printPressedKeys(void);
  73      =2  void KB_printPressedBtns(void);
  74      =2  
  75      =2  void INIT_kb();
  76      =2  
  77      =2  
  78      =2  //%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
  79      =2  // EXTERNAL REFERENCES
  80      =2  
  81      =2  #endif
  31      =1  #include "waitin.h"
   1      =2  /***********
   2      =2  \project    MPOR - AT89 kit
C51 COMPILER V6.20c  MAIN                                                                  04/22/2014 11:19:25 PAGE 18  

   3      =2  \author 	xdavid10
   4      =2  \filename	.h
   5      =2  \contacts	Bc. Daniel DAVIDEK	<danieldavidek@gmail.com>
   6      =2  \date		17-04-2014
   7      =2  \brief      Drivers and demos on kit with AT89
   8      =2      MCU: AT89C51ED2
   9      =2      fMCU: 11.059MHz
  10      =2  \license    LGPL License Terms \ref lgpl_license
  11      =2  ***********/
  12      =2  /* DOCSTYLE: gr4viton_2014_A <goo.gl/1deDBa> */
  13      =2  
  14      =2  #ifndef _WAITIN_H_
           =2 #define _WAITIN_H_
           =2 
           =2 //%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
           =2 // INCLUDES
           =2 //_________> system includes
           =2 //_________> project includes
           =2 //_________> local includes
           =2 //_________> forward includes
           =2 
           =2 #include "defines.h"
           =2 
           =2 //%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
           =2 // MACRO DEFINITIONS
           =2 //____________________________________________________
           =2 //constants (user-defined)
           =2 //____________________________________________________
           =2 //constants (do not change)
           =2 //____________________________________________________
           =2 // macro functions (do not use often!)
           =2 //%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
           =2 // TYPE DEFINITIONS
           =2 //____________________________________________________
           =2 // enumerations
           =2 //____________________________________________________
           =2 // structs
           =2 //____________________________________________________
           =2 // unions
           =2 
           =2 //%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
           =2 // EXTERNAL VARIABLE DECLARATIONS
           =2 extern volatile uint32_t tic_toc_start;
           =2 
           =2 //%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
           =2 // INLINE FUNCTION DEFINITIONS
           =2 //%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
           =2 // STATIC FUNCTION DEFINITIONS
           =2 //%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
           =2 // OTHER FUNCTION DECLARATIONS
           =2     //____________________________________________________
           =2     // ..
           =2 //%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
           =2 // EXTERNAL REFERENCES
           =2 /****************
           =2  \brief
           =2  \param
           =2  \retval
           =2  ****************/
           =2 void INIT_clk(void);
           =2 
           =2 /****************
C51 COMPILER V6.20c  MAIN                                                                  04/22/2014 11:19:25 PAGE 19  

           =2  \brief
           =2  \param
           =2  \retval
           =2  ****************/
           =2 void mswait(uint32_t delay);
           =2 
           =2 /****************
           =2  \brief Stores systick stamp to global variable (MATLAB alike)
           =2  \retval also returns the stamp
           =2  ****************/
           =2 uint32_t _tic(void);
           =2 
           =2 /****************
           =2  \brief Count ticks of systick from the last call of _tic
           =2  \retval interval between _tic and _toc in systick units
           =2  ****************/
           =2 uint32_t _toc(void);
           =2 
           =2 /****************
           =2  \brief Count ticks of systick from the start time stamp
           =2  \param start time stamp
           =2  \retval interval between start time stamp and _tocFrom in systick units
           =2  ****************/
           =2 uint32_t _tocFrom(uint32_t start);
           =2 
           =2 
           =2 
           =2 
           =2 
           =2 void wwwait(int w);
           =2 void mwait(int cycles);
           =2 
           =2 void twait(uint16_t times);
           =2 void swait(int cycles);
           =2 
           =2 void INIT_T0m1();
           =2 void pause(unsigned int doba);
           =2 void pause10(unsigned int doba);
           =2 
           =2 //%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
           =2 // EXTERNAL REFERENCES
           =2 
           =2 #endif
  32      =1  
  33      =1  //%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
  34      =1  // MACRO DEFINITIONS
  35      =1  //____________________________________________________
  36      =1  //constants (user-defined)
  37      =1  //____________________________________________________
  38      =1  //constants (do not change)
  39      =1  //____________________________________________________
  40      =1  // macro functions (do not use often!)
  41      =1  //%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
  42      =1  // TYPE DEFINITIONS
  43      =1  //____________________________________________________
  44      =1  // enumerations
  45      =1  //____________________________________________________
  46      =1  // structs
  47      =1  //____________________________________________________
  48      =1  // unions
  49      =1  
  50      =1  //%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
C51 COMPILER V6.20c  MAIN                                                                  04/22/2014 11:19:25 PAGE 20  

  51      =1  // EXTERNAL VARIABLE DECLARATIONS
  52      =1  
  53      =1  //%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
  54      =1  // INLINE FUNCTION DEFINITIONS
  55      =1  //%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
  56      =1  // STATIC FUNCTION DEFINITIONS
  57      =1  //%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
  58      =1  // OTHER FUNCTION DECLARATIONS
  59      =1      //____________________________________________________
  60      =1  
  61      =1  void INIT_uart_m3_t1();
  62      =1  int RESOLVE_memory();
  63      =1  
  64      =1  void DBG_tryKb(void);
  65      =1  void DBG_passed(void);
  66      =1  
  67      =1  void INIT_T2_clock();
  68      =1  
  69      =1  
  70      =1  //%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
  71      =1  // EXTERNAL REFERENCES
  72      =1  
  73      =1  
  74      =1  
  75      =1  #endif
  59          
  60          
  61          unsigned char xdata LED_P1 _at_ 0xA003;
  62          unsigned char xdata LED_P2 _at_ 0xA004;
  63          unsigned char xdata LED_P3 _at_ 0xA005;
  64          //led
  65          long int had;
  66          int smer = 1;
  67          //FCN
  68          
  69          
  70          void timer_IT(void) interrupt 5{
  71   1      	static int DIV10 = 0;
  72   1      	int i =0;
  73   1      	DIV10 = (DIV10 >= 9 ? DIV10+1: 0);
  74   1      
  75   1      	if(DIV10 ==0){
  76   2      		if(had == 0x800000) {
  77   3      			smer = 1;
  78   3      		}
  79   2      		else if(had ==0x01){
  80   3      			smer = 0;
  81   3      	//		had = 0x01;
  82   3      		}
  83   2      		if(smer==0)	had <<= 1;
  84   2      		else		had >>= 1;
  85   2      			/*
  86   2      		LED_P1 = had ;
  87   2      		LED_P2 = had ;
  88   2      		LED_P3 = had ;*/
  89   2      
  90   2      
  91   2      		LED_P1 = had>>0 & (0xFF);
  92   2      		LED_P2 = had>>8 & (0xFF);
  93   2      		LED_P3 = 0x00;
  94   2      		for(i=0;i<8;i++)
  95   2      			if( (had>>16) & BIT(i) )
C51 COMPILER V6.20c  MAIN                                                                  04/22/2014 11:19:25 PAGE 21  

  96   2      				LED_P3 = BIT(8-i);
  97   2      
  98   2      	//			SET_BIT(LED_P3, 8-i);
  99   2      	}
 100   1      }
 101          
 102          
 103          void INIT_T2_clock(){
 104   1      
 105   1      
 106   1      	//CLK = FCLK/(12*(65536 - RCAP2H/RCAP2L));
 107   1      	unsigned int HH = 0xB1;//20000 impulzu - zaokrouhlene
 108   1      	unsigned int LL = 0xDF;
 109   1      
 110   1      	// T_tim = 1 / (Fclk/12) .= 1.085 [us]
 111   1      	// T_wanna / T_tim = N; T_tim / T_w = 1/N
 112   1      	// N = 18431 = 0x47FF
 113   1      	HH = 0x47;
 114   1      	LL = 0xFF;
 115   1      
 116   1      	//
 117   1      	// Timer2 perioda 20ms - a hada treba
 118   1      	// 16b, Up,Dn ,
 119   1      	// CLK - figure 2-17
 120   1      	// 		periph/6 = clk/12
 121   1      	// autoreload
 122   1      	// chci inkrementalni s automatickym prednastavenim a vyvolanim interruptu
 123   1      
 124   1      
 125   1      	/*
 126   1      	// T2MOD
 127   1      	T2MOD = SET_BIT(T2MOD,T2OE); // Set to program P1.0/T2 as clock output.
 128   1      	T2MOD = SET_BIT(T2MOD,DCEN); // Set to enable Timer 2 as up/down counter.
 129   1      
 130   1      	// T2CON
 131   1      	T2CON = CLR_BIT(T2CON,1); // C/T2# - Cleared for timer operation (input from internal clock system: FCLK 
             -PERIPH)
 132   1      	*/
 133   1      	// clock
 134   1      
 135   1      	//	had = 0x1;
 136   1      	had = 0x800000;
 137   1      
 138   1      	ET2 = 0; // zakaz preruseni od timeru
 139   1      
 140   1      
 141   1      	LED_P1 = had;
 142   1      	LED_P2 = 0x00;
 143   1      	LED_P3 = 0x00;
 144   1      	TR2=0; // vypnti timeru 2
 145   1      
 146   1      	EA=1;  // enable global interrupt
 147   1      
 148   1      	CT2=0; // T2con^1
 149   1      	TR2=1; // T2con^1
 150   1      
 151   1      
 152   1      	RCAP2H=HH;
 153   1      	RCAP2L=LL;
 154   1      
 155   1      	TH2 = HH;
 156   1      	TL2 = LL;// nastaveni timer 2
C51 COMPILER V6.20c  MAIN                                                                  04/22/2014 11:19:25 PAGE 22  

 157   1      
 158   1      
 159   1      	T2MOD=0x01; //timer 2 mod 1
 160   1      	TR2=1;
 161   1      	ET2=1;
 162   1      
 163   1      	while(1) {}
 164   1      
 165   1      
 166   1      }
 167          
 168          // main
 169          void main(void){
 170   1      	int i = 0;
 171   1      
 172   1      	disp_init();
 173   1      	clrscr();
 174   1      
 175   1      //	INIT_T0m1();
 176   1      	//RESOLVE_memory();
 177   1      
 178   1      /*
 179   1      	for(i=0;i<80;i++)
 180   1      		line[i] = '&';
 181   1      		*/
 182   1      
 183   1      	INIT_kb();
 184   1      	while(1){
 185   2      		//DBG_passed();
 186   2      		//DBG_snake();
 187   2      		DBG_tryKb();
 188   2      	}
 189   1      
 190   1      	//INIT_uart_m3_t1();
 191   1      
 192   1      	//while(1){_nop_();}
 193   1      }
 194          
 195          /*
 196          do radku pisu - postupna nula
 197          ze sloupce ctu
 198          
 199          bity z nibblu
 200          sloupce =
 201          7654|3210 - led|klavesnice
 202          
 203          radky
 204          4 = tlacitka
 205          5
 206          6
 207          7
 208          - = pod tim klavesnice
 209          0
 210          1
 211          2
 212          3
 213          */
 214          
 215          void DBG_tryKb(void)
 216          {
 217   1      //	const uint8_t nRows = 5;
 218   1      //	const uint8_t nCols = 5;
C51 COMPILER V6.20c  MAIN                                                                  04/22/2014 11:19:25 PAGE 23  

 219   1      
 220   1      	uint8_t r=0;
 221   1      	uint8_t c=0;
 222   1      
 223   1      		clrscr();
 224   1      	while(1)
 225   1      	{
 226   2      		KB_scanPressedKeys();
 227   2      		KB_scanPressedBtns();
 228   2      		//clrscr();
 229   2      		KB_printPressedKeys();
 230   2      //		KB_printPressedBtns();
 231   2      	}
 232   1      
 233   1      }
 234          
 235          void DBG_snake(void)
 236          {
 237   1      	int i = 0;
 238   1      	INIT_T2_clock();
 239   1      	while(1)
 240   1      	{
 241   2      		i++;
 242   2      	}
 243   1      }
 244          
 245          void DBG_passed(void)
 246          {
 247   1      	int i = 0;
 248   1      	while(1){
 249   2      		clrscr();
 250   2      		printf("UBEHLO %is",i++);
 251   2      		pause10(100);
 252   2      	}
 253   1      }
 254          
 255          
 256          
 257          
 258          
 259          
 260          
 261          
 262          
 263          
 264          
 265          
 266          
 267          
 268          
 269          
 270          
 271          
 272          
 273          
 274          
 275          
 276          
 277          
 278          
 279          
 280          
C51 COMPILER V6.20c  MAIN                                                                  04/22/2014 11:19:25 PAGE 24  

 281          
 282          
 283          
 284          
 285          
 286          
 287          
 288          
 289          
 290          
 291          
 292          
 293          
 294          
 295          
 296          
 297          
 298          /*
 299          
 300          // variable baud rate
 301          // SM1 = 1;
 302          SCON = SCON | BIT(6);
 303          // SM0 = 1;
 304          SCON = SCON | BIT(7);
 305          
 306          // ** interrupt flags clear
 307          //RI = 0;
 308          SCON = SCON & NBIT(0);
 309          //TI = 0;
 310          SCON = SCON & NBIT(1);
 311          
 312          // ** transmitter last bit before STOP bit = pry je to jednicka
 313          //SCON[3] = TB8 = 1
 314          //Transmitter Bit 8 / Ninth bit to transmit in modes 2 and 3
 315          //Clear to transmit a logic 0 in the 9th bit.
 316          //Set to transmit a logic 1 in the 9th bit.
 317          //TB8 = 1;
 318          SCON = SCON | BIT(3);
 319          
 320          
 321          // ** ask UART to use tim1 as for his baud rate
 322          // Receive Clock bit for UART
 323          // Cleared to use timer 1 overflow as receive clock for serial port in mode 1 or 3.
 324          // RCLK = 0
 325          T2CON = T2CON & NBIT(5);
 326          
 327          //Transmit Clock bit for UART
 328          // Cleared to use timer 1 overflow as transmit clock for serial port in mode 1 or 3.
 329          // TCLK = 0
 330          T2CON = T2CON & NBIT(4);
 331          
 332          // ***** TIMER1
 333          
 334          
 335          //In the most typical applications, it is configured for timer operation, in the auto-reload mode
 336          //(high nibble of TMOD = 0010B).
 337          // set T1 mode 2 = 8bit tim - autoreload TL1 from TH1 at overflow
 338          // M01 = 0;
 339          	TMOD = TMOD & NBIT(4);
 340          // M11 = 0;
 341          	TMOD = TMOD & NBIT(5);
 342          
C51 COMPILER V6.20c  MAIN                                                                  04/22/2014 11:19:25 PAGE 25  

 343          
 344          
 345          // The Timer 1 interrupt should be disabled in this application
 346          	//T asi je vyply..
 347          
 348          
 349          // Figure 2-21. Timer 1 Generated Commonly Used Baud Rates\
 350          // 9-bit UARTVariable
 351          //SM0 = 1;
 352          SCON = SCON  &~ NBIT(7);
 353          //SM1 = 0;
 354          SCON = SCON  | NBIT(6);
 355          
 356          
 357          // 9600Bd = autoreload SMOD = 0
 358          // autoreload t1 set to 0xFD
 359          // for 9600Bd on 11.0592 MHz
 360          // Fperif = Fcpu/2?
 361          	TH1 = 0xFD;
 362          	TL1 = 0;
 363          //SMOD1 = 0;
 364          PCON = PCON &~ NBIT(7);
 365          //SMOD0 = 0;
 366          PCON = PCON &~ NBIT(6);
 367          
 368          
 369          // enable serial
 370          ES = 1;
 371          EA = 1;
 372          // turn on timer 1
 373          	TR1 = 1;
 374          //	TCON = TCON | BIT(4);
 375          
 376          // ** transmission enable
 377          //REN = 1;
 378          SCON = SCON | BIT(4);
 379          
 380          // ted by mel byt zaply UART 9600b tak jak je popsany nahore
 381          */
 382          //nefunkcni
C51 COMPILER V6.20c  MAIN                                                                  04/22/2014 11:19:25 PAGE 26  

ASSEMBLY LISTING OF GENERATED OBJECT CODE


             ; FUNCTION timer_IT (BEGIN)
0000 C0E0              PUSH    ACC
0002 C0F0              PUSH    B
0004 C083              PUSH    DPH
0006 C082              PUSH    DPL
0008 C0D0              PUSH    PSW
000A 75D000            MOV     PSW,#00H
000D C000              PUSH    AR0
000F C001              PUSH    AR1
0011 C002              PUSH    AR2
0013 C003              PUSH    AR3
0015 C004              PUSH    AR4
0017 C005              PUSH    AR5
0019 C006              PUSH    AR6
001B C007              PUSH    AR7
                                           ; SOURCE LINE # 70
                                           ; SOURCE LINE # 72
001D 750000      R     MOV     i,#00H
0020 750000      R     MOV     i+01H,#00H
                                           ; SOURCE LINE # 73
0023 C3                CLR     C
0024 E500        R     MOV     A,DIV10+01H
0026 9409              SUBB    A,#09H
0028 E500        R     MOV     A,DIV10
002A 6480              XRL     A,#080H
002C 9480              SUBB    A,#080H
002E 400B              JC      ?C0001
0030 E500        R     MOV     A,DIV10+01H
0032 2401              ADD     A,#01H
0034 FF                MOV     R7,A
0035 E4                CLR     A
0036 3500        R     ADDC    A,DIV10
0038 FE                MOV     R6,A
0039 8004              SJMP    ?C0002
003B         ?C0001:
003B 7E00              MOV     R6,#00H
003D 7F00              MOV     R7,#00H
003F         ?C0002:
003F 8E00        R     MOV     DIV10,R6
0041 8F00        R     MOV     DIV10+01H,R7
                                           ; SOURCE LINE # 75
0043 E500        R     MOV     A,DIV10+01H
0045 4500        R     ORL     A,DIV10
0047 6003              JZ      $ + 5H
0049 020000      R     LJMP    ?C0013
                                           ; SOURCE LINE # 76
004C FF                MOV     R7,A
004D FE                MOV     R6,A
004E 7D80              MOV     R5,#080H
0050 FC                MOV     R4,A
0051 AB00        R     MOV     R3,had+03H
0053 AA00        R     MOV     R2,had+02H
0055 A900        R     MOV     R1,had+01H
0057 A800        R     MOV     R0,had
0059 C3                CLR     C
005A 120000      E     LCALL   ?C?SLCMP
005D 7007              JNZ     ?C0004
                                           ; SOURCE LINE # 77
005F F500        R     MOV     smer,A
C51 COMPILER V6.20c  MAIN                                                                  04/22/2014 11:19:25 PAGE 27  

0061 750001      R     MOV     smer+01H,#01H
                                           ; SOURCE LINE # 78
0064 8018              SJMP    ?C0005
0066         ?C0004:
                                           ; SOURCE LINE # 79
0066 E4                CLR     A
0067 7F01              MOV     R7,#01H
0069 FE                MOV     R6,A
006A FD                MOV     R5,A
006B FC                MOV     R4,A
006C AB00        R     MOV     R3,had+03H
006E AA00        R     MOV     R2,had+02H
0070 A900        R     MOV     R1,had+01H
0072 A800        R     MOV     R0,had
0074 C3                CLR     C
0075 120000      E     LCALL   ?C?SLCMP
0078 7004              JNZ     ?C0005
                                           ; SOURCE LINE # 80
007A F500        R     MOV     smer,A
007C F500        R     MOV     smer+01H,A
                                           ; SOURCE LINE # 82
007E         ?C0005:
                                           ; SOURCE LINE # 83
007E E500        R     MOV     A,smer+01H
0080 4500        R     ORL     A,smer
0082 AF00        R     MOV     R7,had+03H
0084 AE00        R     MOV     R6,had+02H
0086 AD00        R     MOV     R5,had+01H
0088 AC00        R     MOV     R4,had
008A 7801              MOV     R0,#01H
008C 7005              JNZ     ?C0007
008E 120000      E     LCALL   ?C?LSHL
0091 8003              SJMP    ?C0034
0093         ?C0007:
                                           ; SOURCE LINE # 84
0093 120000      E     LCALL   ?C?SLSHR
0096         ?C0034:
0096 8F00        R     MOV     had+03H,R7
0098 8E00        R     MOV     had+02H,R6
009A 8D00        R     MOV     had+01H,R5
009C 8C00        R     MOV     had,R4
009E         ?C0008:
                                           ; SOURCE LINE # 91
009E 90A003            MOV     DPTR,#LED_P1
00A1 E500        R     MOV     A,had+03H
00A3 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 92
00A4 FF                MOV     R7,A
00A5 AE00        R     MOV     R6,had+02H
00A7 AD00        R     MOV     R5,had+01H
00A9 AC00        R     MOV     R4,had
00AB 7808              MOV     R0,#08H
00AD 120000      E     LCALL   ?C?SLSHR
00B0 A3                INC     DPTR
00B1 EF                MOV     A,R7
00B2 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 93
00B3 A3                INC     DPTR
00B4 E4                CLR     A
00B5 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 94
00B6 F500        R     MOV     i,A
C51 COMPILER V6.20c  MAIN                                                                  04/22/2014 11:19:25 PAGE 28  

00B8 F500        R     MOV     i+01H,A
00BA         ?C0009:
                                           ; SOURCE LINE # 95
00BA AF00        R     MOV     R7,had+03H
00BC AE00        R     MOV     R6,had+02H
00BE AD00        R     MOV     R5,had+01H
00C0 AC00        R     MOV     R4,had
00C2 7810              MOV     R0,#010H
00C4 120000      E     LCALL   ?C?SLSHR
00C7 C004              PUSH    AR4
00C9 C005              PUSH    AR5
00CB C006              PUSH    AR6
00CD C007              PUSH    AR7
00CF E4                CLR     A
00D0 7F01              MOV     R7,#01H
00D2 FE                MOV     R6,A
00D3 FD                MOV     R5,A
00D4 FC                MOV     R4,A
00D5 A900        R     MOV     R1,i+01H
00D7 A801              MOV     R0,AR1
00D9 120000      E     LCALL   ?C?LSHL
00DC D003              POP     AR3
00DE D002              POP     AR2
00E0 D001              POP     AR1
00E2 D000              POP     AR0
00E4 EF                MOV     A,R7
00E5 5B                ANL     A,R3
00E6 FF                MOV     R7,A
00E7 EE                MOV     A,R6
00E8 5A                ANL     A,R2
00E9 FE                MOV     R6,A
00EA ED                MOV     A,R5
00EB 59                ANL     A,R1
00EC FD                MOV     R5,A
00ED EC                MOV     A,R4
00EE 58                ANL     A,R0
00EF FC                MOV     R4,A
00F0 4D                ORL     A,R5
00F1 4E                ORL     A,R6
00F2 4F                ORL     A,R7
00F3 6015              JZ      ?C0011
                                           ; SOURCE LINE # 96
00F5 C3                CLR     C
00F6 7408              MOV     A,#08H
00F8 9500        R     SUBB    A,i+01H
00FA FF                MOV     R7,A
00FB 7401              MOV     A,#01H
00FD A807              MOV     R0,AR7
00FF 08                INC     R0
0100 8002              SJMP    ?C0030
0102         ?C0029:
0102 C3                CLR     C
0103 33                RLC     A
0104         ?C0030:
0104 D8FC              DJNZ    R0,?C0029
0106 90A005            MOV     DPTR,#LED_P3
0109 F0                MOVX    @DPTR,A
010A         ?C0011:
010A 0500        R     INC     i+01H
010C E500        R     MOV     A,i+01H
010E 7002              JNZ     ?C0031
0110 0500        R     INC     i
C51 COMPILER V6.20c  MAIN                                                                  04/22/2014 11:19:25 PAGE 29  

0112         ?C0031:
0112 6408              XRL     A,#08H
0114 4500        R     ORL     A,i
0116 70A2              JNZ     ?C0009
                                           ; SOURCE LINE # 99
                                           ; SOURCE LINE # 100
0118         ?C0013:
0118 D007              POP     AR7
011A D006              POP     AR6
011C D005              POP     AR5
011E D004              POP     AR4
0120 D003              POP     AR3
0122 D002              POP     AR2
0124 D001              POP     AR1
0126 D000              POP     AR0
0128 D0D0              POP     PSW
012A D082              POP     DPL
012C D083              POP     DPH
012E D0F0              POP     B
0130 D0E0              POP     ACC
0132 32                RETI    
             ; FUNCTION timer_IT (END)

             ; FUNCTION INIT_T2_clock (BEGIN)
                                           ; SOURCE LINE # 103
                                           ; SOURCE LINE # 107
0000 750000      R     MOV     HH,#00H
0003 7500B1      R     MOV     HH+01H,#0B1H
                                           ; SOURCE LINE # 108
;---- Variable 'LL' assigned to Register 'R2/R3' ----
                                           ; SOURCE LINE # 113
0006 750000      R     MOV     HH,#00H
0009 750047      R     MOV     HH+01H,#047H
                                           ; SOURCE LINE # 114
000C 7BFF              MOV     R3,#0FFH
                                           ; SOURCE LINE # 136
000E E4                CLR     A
000F F500        R     MOV     had+03H,A
0011 F500        R     MOV     had+02H,A
0013 750080      R     MOV     had+01H,#080H
0016 F500        R     MOV     had,A
                                           ; SOURCE LINE # 138
0018 C2AD              CLR     ET2
                                           ; SOURCE LINE # 141
001A 90A003            MOV     DPTR,#LED_P1
001D E500        R     MOV     A,had+03H
001F F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 142
0020 E4                CLR     A
0021 A3                INC     DPTR
0022 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 143
0023 A3                INC     DPTR
0024 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 144
0025 C2CA              CLR     TR2
                                           ; SOURCE LINE # 146
0027 D2AF              SETB    EA
                                           ; SOURCE LINE # 148
0029 C2C9              CLR     CT2
                                           ; SOURCE LINE # 149
002B D2CA              SETB    TR2
C51 COMPILER V6.20c  MAIN                                                                  04/22/2014 11:19:25 PAGE 30  

                                           ; SOURCE LINE # 152
002D AF00        R     MOV     R7,HH+01H
002F 8FCB              MOV     RCAP2H,R7
                                           ; SOURCE LINE # 153
0031 8BCA              MOV     RCAP2L,R3
                                           ; SOURCE LINE # 155
0033 8FCD              MOV     TH2,R7
                                           ; SOURCE LINE # 156
0035 8BCC              MOV     TL2,R3
                                           ; SOURCE LINE # 159
0037 75C901            MOV     T2MOD,#01H
                                           ; SOURCE LINE # 160
003A D2CA              SETB    TR2
                                           ; SOURCE LINE # 161
003C D2AD              SETB    ET2
003E         ?C0014:
                                           ; SOURCE LINE # 163
003E 80FE              SJMP    ?C0014
             ; FUNCTION INIT_T2_clock (END)

             ; FUNCTION main (BEGIN)
                                           ; SOURCE LINE # 169
                                           ; SOURCE LINE # 170
0000 E4                CLR     A
0001 F500        R     MOV     i,A
0003 F500        R     MOV     i+01H,A
                                           ; SOURCE LINE # 172
0005 120000      E     LCALL   disp_init
                                           ; SOURCE LINE # 173
0008 120000      E     LCALL   clrscr
                                           ; SOURCE LINE # 183
000B 120000      E     LCALL   INIT_kb
000E         ?C0017:
                                           ; SOURCE LINE # 184
                                           ; SOURCE LINE # 187
000E 120000      R     LCALL   DBG_tryKb
                                           ; SOURCE LINE # 188
0011 80FB              SJMP    ?C0017
             ; FUNCTION main (END)

             ; FUNCTION DBG_tryKb (BEGIN)
                                           ; SOURCE LINE # 215
                                           ; SOURCE LINE # 216
                                           ; SOURCE LINE # 220
0000 E4                CLR     A
0001 F500        R     MOV     r,A
0003 F500        R     MOV     r+01H,A
                                           ; SOURCE LINE # 221
0005 F500        R     MOV     c,A
0007 F500        R     MOV     c+01H,A
                                           ; SOURCE LINE # 223
0009 120000      E     LCALL   clrscr
000C         ?C0020:
                                           ; SOURCE LINE # 224
                                           ; SOURCE LINE # 225
                                           ; SOURCE LINE # 226
000C 120000      E     LCALL   KB_scanPressedKeys
                                           ; SOURCE LINE # 227
000F 120000      E     LCALL   KB_scanPressedBtns
                                           ; SOURCE LINE # 229
0012 120000      E     LCALL   KB_printPressedKeys
                                           ; SOURCE LINE # 231
C51 COMPILER V6.20c  MAIN                                                                  04/22/2014 11:19:25 PAGE 31  

0015 80F5              SJMP    ?C0020
             ; FUNCTION DBG_tryKb (END)

             ; FUNCTION DBG_snake (BEGIN)
                                           ; SOURCE LINE # 235
                                           ; SOURCE LINE # 236
                                           ; SOURCE LINE # 237
;---- Variable 'i' assigned to Register 'R4/R5' ----
0000 E4                CLR     A
0001 FD                MOV     R5,A
0002 FC                MOV     R4,A
                                           ; SOURCE LINE # 238
0003 120000      R     LCALL   INIT_T2_clock
0006         ?C0023:
                                           ; SOURCE LINE # 239
                                           ; SOURCE LINE # 240
                                           ; SOURCE LINE # 241
0006 0D                INC     R5
0007 BD0001            CJNE    R5,#00H,?C0032
000A 0C                INC     R4
000B         ?C0032:
                                           ; SOURCE LINE # 242
000B 80F9              SJMP    ?C0023
             ; FUNCTION DBG_snake (END)

             ; FUNCTION DBG_passed (BEGIN)
                                           ; SOURCE LINE # 245
                                           ; SOURCE LINE # 246
                                           ; SOURCE LINE # 247
0000 E4                CLR     A
0001 F500        R     MOV     i,A
0003 F500        R     MOV     i+01H,A
0005         ?C0026:
                                           ; SOURCE LINE # 248
                                           ; SOURCE LINE # 249
0005 120000      E     LCALL   clrscr
                                           ; SOURCE LINE # 250
0008 7BFF              MOV     R3,#0FFH
000A 7A00        R     MOV     R2,#HIGH ?SC_0
000C 7900        R     MOV     R1,#LOW ?SC_0
000E 0500        R     INC     i+01H
0010 E500        R     MOV     A,i+01H
0012 850000      E     MOV     ?_printf?BYTE+03H,i
0015 7002              JNZ     ?C0033
0017 0500        R     INC     i
0019         ?C0033:
0019 14                DEC     A
001A F500        E     MOV     ?_printf?BYTE+04H,A
001C 120000      E     LCALL   _printf
                                           ; SOURCE LINE # 251
001F 7F64              MOV     R7,#064H
0021 7E00              MOV     R6,#00H
0023 120000      E     LCALL   _pause10
                                           ; SOURCE LINE # 252
0026 80DD              SJMP    ?C0026
             ; FUNCTION DBG_passed (END)

C51 COMPILER V6.20c  MAIN                                                                  04/22/2014 11:19:25 PAGE 32  

NAME                                    CLASS   MSPACE  TYPE    OFFSET  SIZE
====                                    =====   ======  ====    ======  ====


uint16_t . . . . . . . . . . . . . . .  TYPEDEF  -----  U_INT    -----  2
CCF2 . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      00DAH  1
CCF3 . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      00DBH  1
P0 . . . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   0080H  1
CCF4 . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      00DCH  1
P1 . . . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   0090H  1
P2 . . . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   00A0H  1
P3 . . . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   00B0H  1
AC . . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      00D6H  1
T0 . . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      00B4H  1
T1 . . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      00B5H  1
ssize_t. . . . . . . . . . . . . . . .  TYPEDEF  -----  INT      -----  2
EA . . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      00AFH  1
T2 . . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      0090H  1
int32_t. . . . . . . . . . . . . . . .  TYPEDEF  -----  LONG     -----  4
EC . . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      00AEH  1
int16_t. . . . . . . . . . . . . . . .  TYPEDEF  -----  INT      -----  2
CF . . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      00DFH  1
KB_scanPressedBtns . . . . . . . . . .  EXTERN   CODE   PROC     -----  -----
FE . . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      009FH  1
INIT_T2_clock. . . . . . . . . . . . .  PUBLIC   CODE   PROC     0000H  -----
  HH . . . . . . . . . . . . . . . . .  AUTO     DATA   U_INT    0000H  2
  LL . . . . . . . . . . . . . . . . .  * REG *  DATA   U_INT    0002H  2
clrscr . . . . . . . . . . . . . . . .  EXTERN   CODE   PROC     -----  -----
IE . . . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   00A8H  1
KB_scanPressedKeys . . . . . . . . . .  EXTERN   CODE   PROC     -----  -----
P0_0 . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      0080H  1
off_t. . . . . . . . . . . . . . . . .  TYPEDEF  -----  LONG     -----  4
CEX0 . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      0093H  1
P1_0 . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      0090H  1
P0_1 . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      0081H  1
P2_0 . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      00A0H  1
CEX1 . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      0094H  1
P1_1 . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      0091H  1
P0_2 . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      0082H  1
size_t . . . . . . . . . . . . . . . .  TYPEDEF  -----  U_INT    -----  2
P3_0 . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      00B0H  1
P2_1 . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      00A1H  1
CEX2 . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      0095H  1
P1_2 . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      0092H  1
P0_3 . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      0083H  1
P3_1 . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      00B1H  1
P2_2 . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      00A2H  1
CEX3 . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      0096H  1
P1_3 . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      0093H  1
P0_4 . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      0084H  1
CR . . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      00DEH  1
P3_2 . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      00B2H  1
P2_3 . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      00A3H  1
CEX4 . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      0097H  1
P1_4 . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      0094H  1
P0_5 . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      0085H  1
EXF2 . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      00CEH  1
RD . . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      00B7H  1
P3_3 . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      00B3H  1
P2_4 . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      00A4H  1
P1_5 . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      0095H  1
C51 COMPILER V6.20c  MAIN                                                                  04/22/2014 11:19:25 PAGE 33  

NAME                                    CLASS   MSPACE  TYPE    OFFSET  SIZE
====                                    =====   ======  ====    ======  ====


P0_6 . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      0086H  1
P3_4 . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      00B4H  1
P2_5 . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      00A5H  1
P1_6 . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      0096H  1
P0_7 . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      0087H  1
P3_5 . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      00B5H  1
ES . . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      00ACH  1
P2_6 . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      00A6H  1
P1_7 . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      0097H  1
KB_printPressedKeys. . . . . . . . . .  EXTERN   CODE   PROC     -----  -----
UD . . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      00D1H  1
P3_6 . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      00B6H  1
P2_7 . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      00A7H  1
P3_7 . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      00B7H  1
RI . . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      0098H  1
CY . . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      00D7H  1
INT0 . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      00B2H  1
INT1 . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      00B3H  1
TI . . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      0099H  1
IE0_ . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      0089H  1
IE1_ . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      008BH  1
FILE . . . . . . . . . . . . . . . . .  TYPEDEF  -----  U_INT    -----  2
timer_IT . . . . . . . . . . . . . . .  PUBLIC   CODE   PROC     0000H  -----
  DIV10. . . . . . . . . . . . . . . .  STATIC   DATA   INT      0000H  2
  i. . . . . . . . . . . . . . . . . .  AUTO     DATA   INT      0000H  2
RCAP2H . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   00CBH  1
PS . . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      00BCH  1
CCON . . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   00D8H  1
T2EX . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      0091H  1
OV . . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      00D2H  1
RCAP2L . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   00CAH  1
main . . . . . . . . . . . . . . . . .  PUBLIC   CODE   PROC     0000H  -----
  i. . . . . . . . . . . . . . . . . .  AUTO     DATA   INT      0000H  2
WR . . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      00B6H  1
RCLK . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      00CDH  1
had. . . . . . . . . . . . . . . . . .  PUBLIC   DATA   LONG     0002H  4
TCLK . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      00CCH  1
DBG_passed . . . . . . . . . . . . . .  PUBLIC   CODE   PROC     0000H  -----
  i. . . . . . . . . . . . . . . . . .  AUTO     DATA   INT      0000H  2
SCON . . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   0098H  1
TCON . . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   0088H  1
LED_P1 . . . . . . . . . . . . . . . .  PUBLIC   XDATA  U_CHAR   A003H  1
LED_P2 . . . . . . . . . . . . . . . .  PUBLIC   XDATA  U_CHAR   A004H  1
smer . . . . . . . . . . . . . . . . .  PUBLIC   DATA   INT      0006H  2
LED_P3 . . . . . . . . . . . . . . . .  PUBLIC   XDATA  U_CHAR   A005H  1
DBG_tryKb. . . . . . . . . . . . . . .  PUBLIC   CODE   PROC     0000H  -----
  r. . . . . . . . . . . . . . . . . .  AUTO     DATA   U_INT    0000H  2
  c. . . . . . . . . . . . . . . . . .  AUTO     DATA   U_INT    0002H  2
DBG_snake. . . . . . . . . . . . . . .  PUBLIC   CODE   PROC     0000H  -----
  i. . . . . . . . . . . . . . . . . .  * REG *  DATA   INT      0004H  2
disp_init. . . . . . . . . . . . . . .  EXTERN   CODE   PROC     -----  -----
CT2. . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      00C9H  1
ET0. . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      00A9H  1
ET1. . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      00ABH  1
TF0. . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      008DH  1
ET2. . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      00ADH  1
TF1. . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      008FH  1
C51 COMPILER V6.20c  MAIN                                                                  04/22/2014 11:19:25 PAGE 34  

NAME                                    CLASS   MSPACE  TYPE    OFFSET  SIZE
====                                    =====   ======  ====    ======  ====


TF2. . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      00CFH  1
RB8. . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      009AH  1
EX0. . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      00A8H  1
IT0. . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      0088H  1
TH2. . . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   00CDH  1
EX1. . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      00AAH  1
TB8. . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      009BH  1
IT1. . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      008AH  1
uint8_t. . . . . . . . . . . . . . . .  TYPEDEF  -----  U_INT    -----  2
P. . . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      00D0H  1
SM0. . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      009FH  1
SM1. . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      009EH  1
ECI. . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      0092H  1
TL2. . . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   00CCH  1
SM2. . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      009DH  1
PT0. . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      00B9H  1
RS0. . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      00D3H  1
PT1. . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      00BBH  1
RS1. . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      00D4H  1
PT2. . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      00BDH  1
TR0. . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      008CH  1
TR1. . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      008EH  1
TR2. . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      00CAH  1
PX0. . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      00B8H  1
int8_t . . . . . . . . . . . . . . . .  TYPEDEF  -----  INT      -----  2
PX1. . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      00BAH  1
_pause10 . . . . . . . . . . . . . . .  EXTERN   CODE   PROC     -----  -----
INIT_kb. . . . . . . . . . . . . . . .  EXTERN   CODE   PROC     -----  -----
EXEN2. . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      00CBH  1
PPC. . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      00BEH  1
CPRL2. . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      00C8H  1
IPL. . . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   00B8H  1
REN. . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      009CH  1
T2MOD. . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   00C9H  1
T2CON. . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   00C8H  1
RXD. . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      00B0H  1
TXD. . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      00B1H  1
F0 . . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      00D5H  1
_printf. . . . . . . . . . . . . . . .  EXTERN   CODE   PROC     -----  -----
PSW. . . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   00D0H  1
uint32_t . . . . . . . . . . . . . . .  TYPEDEF  -----  U_LONG   -----  4
CCF0 . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      00D8H  1
CCF1 . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      00D9H  1


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =    466    ----
   CONSTANT SIZE    =     11    ----
   XDATA SIZE       =   ----    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =      8      12
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
